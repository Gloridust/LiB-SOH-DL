# LiB-SOH-DL: 锂离子电池SOH预测深度学习模型

## 1. 项目结构

项目由多个模块组成，每个模块负责特定的功能：

- **main.py**：主程序，负责模型的训练和评估。
- **config.py**：配置文件，定义模型和训练的参数。
- **data_loader.py**：数据加载器，负责数据的读取和预处理。
- **trainer.py**：训练器，负责模型的训练和评估。
- **visualizer.py**：可视化工具，负责绘制训练曲线和预测结果。
- **check_data.py**：数据检查工具，验证数据的完整性和有效性。
- **requirements.txt**：依赖列表，列出项目所需的Python库。

## 2. 数据预处理

数据预处理模块负责从Excel文件中读取电池充电曲线数据，并进行归一化和网格化处理。具体步骤包括：

- 读取数据：使用 `pandas` 读取Excel文件，提取电压和容量列。
- 归一化：将容量数据归一化为相对于初始容量的比例。
- 网格化：对电压进行插值，确保数据在指定范围内的一致性。

## 3. 模型架构

模型由三部分组成：

### 3.1 特征提取器（1D-CNN）

- **卷积层**：三层1D卷积层，每层后接ReLU激活函数和MaxPooling层，用于提取充电曲线的特征。
- **计算公式**：卷积操作通过滑动窗口提取局部特征，公式为 $y[i] = \sum_{j=0}^{k-1} x[i+j] \cdot w[j]$。

### 3.2 中间全连接层（MFC）

- **结构**：两层全连接层，使用BatchNorm和Dropout技术，增强模型的泛化能力。
- **功能**：将提取的特征进一步处理，生成用于预测的中间表示。

### 3.3 终端全连接层（TFC）

- **结构**：两层全连接层，最后输出SOH预测值。
- **激活函数**：使用Sigmoid函数将输出限制在0到1之间。

## 4. 训练与评估

### 4.1 训练过程

- **优化器**：使用Adam优化器，学习率和其他参数在 `config.py` 中配置。
- **损失函数**：均方误差（MSE），用于衡量预测值与真实值之间的差异。
- **早停策略**：防止过拟合，通过监控验证集损失自动停止训练。

### 4.2 评估指标

- **MSE**：均方误差，衡量预测值与真实值的平方差。
- **MAE**：平均绝对误差，衡量预测值与真实值的绝对差。
- **RMSE**：均方根误差，MSE的平方根，提供误差的尺度。

## 5. 可视化

- **训练曲线**：绘制训练和验证损失随时间的变化，帮助观察模型的收敛情况。
- **预测结果**：对比真实SOH和预测SOH，评估模型的预测能力。

## 6. 复现思路

本项目复现了论文中的深度学习方法，通过1D-CNN提取特征，并使用集成学习提高预测稳定性。我们在代码中实现了数据预处理、模型训练、评估和可视化的完整流程，确保结果的可重复性和可靠性。
